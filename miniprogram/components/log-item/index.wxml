<!-- ç»Ÿä¸€æ—¥å¿—å¡ç‰‡ç»„ä»¶ - ä¼˜åŒ–è§†è§‰å±‚çº§ -->
<view class="log-item-root" style="{{ transparent ? '' : 'background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); margin-bottom: 12px;' }} padding: 12px 16px;">

  <!-- ç¬¬ä¸€è¡Œï¼šç±»å‹æ ‡ç­¾ + äº§å“ä»£ç  + æ—¶é—´ï¼ˆä¸»è§†è§‰å±‚çº§ï¼‰ -->
  <view style="display: flex; flex-direction: row; align-items: center; margin-bottom: 12px;">
    <view class="log-type-tag {{ typeColorClass }}" style="font-size: 12px; font-weight: 500; padding: 2px 8px; border-radius: 4px; margin-right: 8px;">
      {{ item._typeText || item._actionText || item.typeText || 'æ“ä½œ' }}
    </view>
    <view style="font-size: 14px; font-weight: 600; color: #1989fa;">{{ item._displayCode || item.product_code || '' }}</view>
    <view style="flex: 1;"></view>
    <view style="font-size: 12px; color: #969799;">{{ item._timeStr || item.timeStr || '' }}</view>
  </view>

  <!-- ç¬¬äºŒè¡Œï¼šç‰©æ–™åç§° + æ•°é‡ï¼ˆæ¬¡è§†è§‰å±‚çº§ï¼‰ -->
  <view style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; margin-bottom: 12px;">
    <view style="font-size: 14px; font-weight: 400; color: #323233;">{{ item._displayName || item.material_name || 'æœªå‘½å' }}</view>
    <!-- å¯¹äºç§»åº“æ“ä½œï¼Œä¸æ˜¾ç¤ºæ•°é‡ï¼Œç”¨ '-' è¡¨ç¤ºä¸é€‚ç”¨ -->
    <view class="{{ item._sign === '+' ? 'qty-success' : (item._sign === '-' ? 'qty-danger' : '') }}" style="font-size: 16px; font-weight: 600;">
      <block wx:if="{{ item._typeText === 'ç§»åº“' }}">-</block>
      <block wx:else>{{ item._sign || '' }}{{ item.quantity || item.quantity_change || 0 }} {{ item.unit || '' }}</block>
    </view>
  </view>

  <!-- ç¬¬ä¸‰è¡Œï¼šå¤‡æ³¨ + æ“ä½œäººï¼ˆè¾…åŠ©ä¿¡æ¯ï¼‰ -->
  <view style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; padding-top: 10px; border-top: 1px solid #f0f0f0;">
    <view style="font-size: 12px; color: #969799; max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{ item.note || item.description || 'æ— å¤‡æ³¨' }}</view>
    <view style="display: flex; flex-direction: row; align-items: center; font-size: 12px; color: #969799;">
      <view style="margin-right: 4px;">ğŸ‘¤</view>
      <view>{{ item.operator || item.operator_name || 'æœªçŸ¥' }}</view>
    </view>
  </view>

</view>
